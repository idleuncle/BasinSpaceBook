# 发现问题
docker 容器默认模式不保存数据,销毁及删除数据.
对于需要保存数据的容器,主要有几种方式:
1. 数据卷:
-v 数据挂载到宿主机,但数据存储在该宿主机中,迁移困难
1. 包含数据的容器:
-v 容器挂载数据,作为数据载体,提供其他容器访问 --volumes-from
缺点同上.数据存储于宿主机中,迁移困难

以上方式由于数据保存在宿主机中,数据不共享,迁移困难


# 解决方案
容器持久化,主要有几种特性:
1. 用户无需指定存储类型
2. 同类型容器在不同宿主机中新建和销毁过程中,数据能够无损挂载.

解决容器持久化的宿主机数据共享,方便数据迁移,提出以下几种方式:

1. 存储后端是共享存储:
-v 容器挂载Nas等共享存储上,由共享存储来维护数据
优点:主机失效,容器数据不丢失
缺点:价格昂贵?

2. 分布式容器存储
主流有:
1. flocker
2. portworx
3. Rex-ray



# 验证模型
1. 本地数据卷存储,容器所在宿主机出现故障.重新部署新宿主机,数据不受影响.
2. 数据的迁移.对性能影响,例如:数据库性能.

针对以上模型做flocker和portworx进行验证.




# 总结

测试还在进行.

